# Jotter Backend - Environment Configuration
# Copy this file to .env and update values

# Environment & Server
NODE_ENV=development
PORT=5000
LOG_LEVEL=info

# Database (MongoDB)
# Docker: mongodb://jotter_app:jotter_app_password@localhost:27017/jotter_db
# Local:  mongodb://localhost:27017/jotter_db
MONGODB_URI=mongodb://jotter_app:jotter_app_password@localhost:27017/jotter_db

# Docker Compose (MongoDB Container)
MONGO_ROOT_USERNAME=jotter_admin
MONGO_ROOT_PASSWORD=jotter_secret_2024
MONGO_DATABASE=jotter_db
MONGO_PORT=27017
MONGO_EXPRESS_PORT=8081

# JWT Authentication
# IMPORTANT: Change these in production!
JWT_SECRET=your_super_secret_jwt_key_change_in_production
JWT_REFRESH_SECRET=your_refresh_token_secret_key_also_change_this
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# Cloudinary (File Storage)
# Get credentials from https://cloudinary.com/console
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret

# Email (Resend)
# Get API key from https://resend.com/api-keys
# In development: OTP is logged to console as fallback
RESEND_API_KEY=re_xxxxxxxxxx
EMAIL_FROM=onboarding@resend.dev

# Google OAuth (Optional)
# Get credentials from https://console.cloud.google.com
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_CALLBACK_URL=http://localhost:5000/api/auth/google/callback

# CORS (Frontend URL)
# CRITICAL: Must match your frontend origin exactly for cookies to work
# Development: http://localhost:3000 or http://localhost:5173 (Vite)
# Production: https://your-frontend-domain.com
FRONTEND_URL=http://localhost:3000

# Storage & Upload Limits
# Per-user storage limit in bytes (default: 15GB = 16106127360 bytes)
STORAGE_LIMIT=16106127360
# Max file size per upload in bytes (default: 50MB = 52428800 bytes)
MAX_FILE_SIZE=52428800
# Max request body size (default: 10mb)
REQUEST_BODY_LIMIT=10mb

# Rate Limiting
# Window in milliseconds (default: 15 minutes = 900000)
RATE_LIMIT_WINDOW_MS=900000
# Auth endpoints max requests per window (default: 5)
AUTH_RATE_LIMIT_MAX=5
# API endpoints max requests per window (default: 100)
API_RATE_LIMIT_MAX=100
# Upload endpoints max requests per hour (default: 50)
UPLOAD_RATE_LIMIT_MAX=50
